# mellifluous brainstorming

- **API list**
    - Music data APIs for searching songs/artists/albums
        - [MusicBrainz API](https://musicbrainz.org/doc/MusicBrainz_API)
            - Pros/Cons
                - Pros:
                    - Has a ***lot*** of data.
                - Cons:
                    - Documentation is really verbose and may take a bit more energy to consume/understand.
            - API
                - Base URL –  `https://musicbrainz.org/ws/2/`
            - Important notes:
                - No API key, but [must have meaningful user-agent string](https://musicbrainz.org/doc/MusicBrainz_API/Rate_Limiting#Provide_meaningful_User-Agent_strings).
                - XML is the default response format; to get a JSON response, set the `Accept` header to `"application/json”`
    - APIs for streaming music audio
        - [SoundCloud API](https://developers.soundcloud.com/)
            - Pros/Cons
                - Pros:
                    - Might contain more “underground” tracks that may be convenient to show as potential tracks user can play
                - Cons:
                    - Streaming music seems **********extremely********** verbose.. still unsure how it functions and whether it’s worth the effort.
            - Idea for streaming with this API
                - Once you have the track’s `media.transcodings`, take the first one* and do a `GET` request to its `url`.
                    - *There will be multiple transcodings, and I don’t really know much about them at the moment, so do some research to see if there’s a preferrable one or if you need to do something with all the transcoding.
                - This will return another `url` which points to the `[m3u](https://en.wikipedia.org/wiki/M3U)` file which contains a list of links which point to “chunks” of the audio.
                - Extract all the urls from this file and sequentially do a `GET` request for every url and append the data into an array buffer. [See here for reference.](https://github.com/Tenpi/soundcloud.ts/blob/2d5b5318083555ac7b31af631f1267a3c31bfe30/entities/Util.ts#L74)
                - I’m not entirely sure what to do with the array buffer here, but since it should be a readable stream, maybe figure out a way to have the `audio` element “read” from this buffer? Or convert the buffer to something that `audio` element can consume (`[URL.createObjectURL()](https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL)`)?
                - [Another example of doing an HTTP request for an mp3 file and using the `arraybuffer` response type](https://developer.mozilla.org/en-US/docs/Web/Guide/Audio_and_video_delivery#web_audio_api)
        - [audiomack API](https://www.audiomack.com/data-api/docs)
            - This API is a ***lot*** more convenient to stream music with. It returns a direct url to an mp3 that you can plug into an `audio` element.
            - Some nits about authorization
                - On the *Obtaining an Unauthorized Request Token* section, it indicates something to do with OAuth. Use [this](https://github.com/ddo/oauth-1.0a) library to conveniently handle that. Specifically, follow what is done with the `request_data` object.
    - APIs for finding song lyrics
        - [Genius API](https://docs.genius.com/)
            - API has a pretty good amount of music data. Might be worth using this for the searching functionality instead of the MusicBrainz API.
            - Another pro is that I can just use the Genius API’s song id to find the associated song lyrics instead of some strange workaround to link a MusicBrainz API song to Genius API song lyrics elegantly.
    - APIs for finding similar songs/artists
        - [last.fm API](https://www.last.fm/api)
            - This API also supports finding similar artists and songs. Might be more reputable than the TasteDive API
        - [~~TasteDive API~~](https://tastedive.com/read/api)
            - Example: [https://tastedive.com/music/like/Lany](https://tastedive.com/music/like/Lany)
            - **********************************************************************************************Decided not to go with this API because the documentation is lacking considerably.**********************************************************************************************
    - APIs for additional features
        - [KSoft API](https://docs.ksoft.si/api/lyrics-api)
            - This API returns LRC data; might be able to sync with audio file for a “sing-a-long”?
                - [This article](https://dev.to/mcanam/javascript-lyric-synchronizer-4i15) is a convenient tutorial for “syncing” an LRC file to audio (maybe for “karaoke”-like functionality)
            - The only problem I can foresee at the moment is that the LRC data can only be synced with an OST (i.e., no remixes). How to determine if the audio playing is an OST?
                - A suboptimal workaround is to have some sort of note or highlight to the user that the “sing-a-long” feature will only synchronize properly with original sound tracks (OST).
- Features
    - Search bar w/ sorting and filtering functionality
    - Audio player (built from scratch ideally)
        - [MDN – Customizing Your Media Player](https://developer.mozilla.org/en-US/docs/Web/Guide/Audio_and_video_delivery#customizing_your_media_player)
        - [MDN – Cross-browser audio basics](https://developer.mozilla.org/en-US/docs/Web/Guide/Audio_and_video_delivery/Cross-browser_audio_basics#creating_your_own_custom_audio_player)
        - [MDN – Web Audio API best practices](https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Best_practices)
        - `[HTMLMediaElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement)` – might be good to be familiar with its API (for stuff like moving the current playback time via the `currentTime`, etc)
        - [Media buffering, seeking, and time ranges](https://developer.mozilla.org/en-US/docs/Web/Guide/Audio_and_video_delivery/buffering_seeking_time_ranges)
        - `[BaseAudioContext.decodeAudioData()](https://developer.mozilla.org/en-US/docs/Web/API/BaseAudioContext/decodeAudioData)` – this might be helpful for audio tracks returned from the audiomack API
            - [More info](https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Advanced_techniques#loading_the_sample)
        - It might be helpful to look at some audio JS libraries to see how they did it and perhaps find inspiration.
            - Cross browser and legacy supported Web Audio JS libraries
                - [standardized-audio-context](https://github.com/chrisguttandin/standardized-audio-context)
                - [howler.js](https://howlerjs.com/)
    - “sing-a-long” lyric capability if the implementation is sound
    - Light/dark mode
    - Maybe use an elegant typeface (w/ a flower?) for the brand “home button”
- Pages
    - Home page
        - Similar to **synopedia**, have a search bar where users can search for a song, artist, or album.
            - Maybe allow for filtering and sorting?
        - Alternatively, supply home page with “trending” songs, artists, etc?
    - Search results page
        - Section off artists, albums, and songs
    - Artist page
        - Show artist biography
        - Show artist’s albums
        - Show any other artist information that would be neat to show
            - Probably check what else the API returns and/or check music or artist information websites for inspiration
    - Album page
        - Show album metadata (but w/o biography)
        - Show songs in this album
        - Show link to all artist’s albums page?
    - Song page
        - Show song metadata
        - See if Lyrics API returns lyrics for this song
            - Show something to indicate “can’t find lyrics for this song” if it doesn’t
            - If lyrics exist, show lyrics and attempt to sync the LRC data returned from the API to have “sing-a-long” highlighting based on the current timestamp of the audio player
        - Ping music streaming API to find a result list of songs that align with the song page’s name
            - Clicking on any of the tracks will show a sticky bottom audio player (similar to SoundCloud)
            - Create your own audio player?
                - Might be nice to get some experience in that
        - Show section for similar songs?
            - Should it also show similar artists or albums or would that be overkill?
                - Alternatively, maybe show similar “content” based on the page? (e.g., artist’s page ~> similar artists, album’s page ~> similar albums (wait I don’t know if the API actually returns this), song’s page ~> similar songs
- Tech stack
    - HTML5
    - CSS3, PostCSS, CSS Modules
    - React
    - Redux
    - TanStack Router
    - JavaScript, TypeScript
    - Webpack
- Design inspiration
    - Audio Player
        - [1](https://dribbble.com/shots/6864110-Music-Player-Daily-UI-009)
        - [2](https://dribbble.com/shots/19725272-Music-Media-Player-Portal-Concept-UXUI)
        - [3](https://dribbble.com/shots/18240691-Music-Player-Portal-Concept-UI-UX)
        - [4](https://dribbble.com/shots/15282492-Playo-Web-Music-player) – I kind of like how the album poster glows a bit
        - [5](https://dribbble.com/shots/16122973-Web-Music-Player-Retro) – Cool audio spectrum waveform visualization effect
        - [6](https://dribbble.com/shots/19838351-Music-Player-Website-Design-Concept) – This shows a song lyrics non-modal
        - [7](https://dribbble.com/shots/8547900-Online-Music-Service)